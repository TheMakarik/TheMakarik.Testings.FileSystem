`TheMakarik.Testing.FileSystem` представляет достаточно удобный интерфейс для создания временных файлов для интеграционных тестов, проверки на содержание и изменения этих файлов. Что довольно полезно при тестировании компонентов которые очень сильно привязаны к файловой системе

Во всех следующих примерах мы будем использовать [xUnit.net](https://xunit.net/?tabs=cs) но вы можете использовать любой тестовый фреймворк который вам по душе, например [NUnit](https://nunit.org/) или [TUnit](https://github.com/thomhurst/TUnit)

```csharp
using TheMakarik.Testing.FileSystem;

namespace LearnFileSystemProject;

//xUnit.net class
public class LearnFileSystem : IDisposable
{
    private readonly IFileSystem _fileSystem;
    private string _subDirectoryFileFullPath;
    
    public LearnFileSystem()
    {
        _fileSystem = FileSystem.BeginBuilding() //Создает экземпляр IFileSystemBuilder для создания класса
            .AddRoot("my-root-directory") //Добавляет корневую папку для файловой системы, принимает полный путь или относительный (bin проекта)
            .AddFile("my-file.txt") //Cоздает пустой файл внутри папки (по умолчанию в корневой папке)
            .AddDirectory((builder, path) => //builder - IFileSystemBuilder для папки (как для коренной), path - полный путь к папке
                   builder.AddFile("my-subdirectory-file", out _subDirectoryFileFullPath)) //_subDirectoryFileFullPath аргумент возвразающий полный путь к созданному файлу или папке
            .Build()
    }      
    
    //Удаление созданной файловой системы проводиться с вызовом метода  
    //Dispose из IFileSystem
    public void Dispose()
    {
        _fileSystem.Dispose()
    }
}
```

Из примера мы видим что создавать содержимое файловой системы достаточно просто, это выглядит более аккуратно и читабельнее чем вызывая стандартные `System.IO.Directory.CreateDirectory()` или `System.IO.File.Create()`